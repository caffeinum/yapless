<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waveform Animation Prototypes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #1a1a1a;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 40px;
        }

        h1 {
            text-align: center;
            margin-bottom: 40px;
            font-weight: 300;
        }

        .controls {
            text-align: center;
            margin-bottom: 40px;
        }

        .controls label {
            margin-right: 20px;
        }

        .controls input[type="range"] {
            width: 200px;
            vertical-align: middle;
        }

        .prototypes {
            display: flex;
            flex-direction: column;
            gap: 60px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .prototype {
            background: #0a0a0a;
            border-radius: 20px;
            padding: 30px;
        }

        .prototype h2 {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 10px;
            color: #888;
        }

        .prototype p {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
        }

        .waveform-container {
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Style 1: Center-expanding bars with edge fade */
        .style1 {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 3px;
            height: 100%;
        }

        .style1 .bar {
            width: 4px;
            background: linear-gradient(180deg, #007AFF, #5856D6);
            border-radius: 2px;
            animation: pulse1 0.5s ease-in-out infinite alternate;
        }

        @keyframes pulse1 {
            0% { transform: scaleY(0.3); }
            100% { transform: scaleY(1); }
        }

        /* Style 2: Smooth sine wave with glow */
        .style2 {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .style2 canvas {
            width: 100%;
            height: 100%;
        }

        /* Style 3: Mirrored bars (classic audio visualizer) */
        .style3 {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2px;
            height: 100%;
        }

        .style3 .bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }

        .style3 .bar {
            width: 3px;
            background: #007AFF;
            border-radius: 1.5px;
        }

        /* Style 4: Circular/arc waveform */
        .style4 {
            width: 100%;
            height: 100%;
        }

        /* Style 5: Fluid blob */
        .style5 {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .blob {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #007AFF, #5856D6);
            border-radius: 50%;
            filter: blur(0px);
            animation: blob 2s ease-in-out infinite;
        }

        @keyframes blob {
            0%, 100% {
                border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
                transform: scale(1);
            }
            50% {
                border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
                transform: scale(1.1);
            }
        }
    </style>
</head>
<body>
    <h1>Waveform Animation Prototypes</h1>

    <div class="controls">
        <label>
            Simulated Audio Level:
            <input type="range" id="audioLevel" min="0" max="100" value="50">
            <span id="levelValue">50%</span>
        </label>
    </div>

    <div class="prototypes">

        <!-- Style 1: Center-expanding with edge fade -->
        <div class="prototype">
            <h2>Style 1: Center-Expanding Bars with Edge Fade</h2>
            <p>Bars expand from center (up & down), fade to zero at edges. Clean, modern look.</p>
            <div class="waveform-container">
                <div class="style1" id="style1"></div>
            </div>
        </div>

        <!-- Style 2: Smooth flowing wave -->
        <div class="prototype">
            <h2>Style 2: Smooth Flowing Wave</h2>
            <p>Continuous sine wave with glow effect. Organic, Siri-like feel.</p>
            <div class="waveform-container">
                <canvas class="style2" id="style2"></canvas>
            </div>
        </div>

        <!-- Style 3: Mirrored bars (classic) -->
        <div class="prototype">
            <h2>Style 3: Mirrored Classic Bars</h2>
            <p>Traditional audio visualizer - bars mirror above and below center line.</p>
            <div class="waveform-container">
                <div class="style3" id="style3"></div>
            </div>
        </div>

        <!-- Style 4: Single line wave -->
        <div class="prototype">
            <h2>Style 4: Single Line Wave with Thickness</h2>
            <p>One continuous line that varies in thickness based on audio. Minimal.</p>
            <div class="waveform-container">
                <canvas class="style4" id="style4"></canvas>
            </div>
        </div>

        <!-- Style 5: Rounded bars with momentum -->
        <div class="prototype">
            <h2>Style 5: Rounded Bars with Physics</h2>
            <p>Bars with momentum - rise fast, fall slow. Bouncy, alive feeling.</p>
            <div class="waveform-container">
                <div class="style5-bars" id="style5"></div>
            </div>
        </div>

    </div>

    <script>
        const audioLevelSlider = document.getElementById('audioLevel');
        const levelValue = document.getElementById('levelValue');
        let audioLevel = 0.5;

        audioLevelSlider.addEventListener('input', (e) => {
            audioLevel = e.target.value / 100;
            levelValue.textContent = e.target.value + '%';
        });

        // Style 1: Center-expanding bars with edge fade
        function initStyle1() {
            const container = document.getElementById('style1');
            const barCount = 40;

            for (let i = 0; i < barCount; i++) {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = '100%';
                container.appendChild(bar);
            }
        }

        function animateStyle1(time) {
            const bars = document.querySelectorAll('#style1 .bar');
            const center = bars.length / 2;

            bars.forEach((bar, i) => {
                // Edge fade: bars at edges are shorter
                const distFromCenter = Math.abs(i - center) / center;
                const edgeFade = Math.cos(distFromCenter * Math.PI / 2);

                // Wave animation
                const wave = Math.sin(i * 0.3 + time * 0.004) * 0.5 + 0.5;

                // Combine with audio level
                const height = (0.1 + wave * 0.9 * (0.3 + audioLevel * 0.7)) * edgeFade;

                bar.style.transform = `scaleY(${height})`;
                bar.style.opacity = 0.6 + wave * 0.4;
            });

            requestAnimationFrame(animateStyle1);
        }

        // Style 2: Smooth flowing wave
        function initStyle2() {
            const canvas = document.getElementById('style2');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth * 2;
            canvas.height = canvas.offsetHeight * 2;

            function draw(time) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const centerY = canvas.height / 2;
                const amplitude = (50 + audioLevel * 100) * 2;

                // Draw multiple wave layers
                const colors = [
                    'rgba(0, 122, 255, 0.8)',
                    'rgba(88, 86, 214, 0.6)',
                    'rgba(255, 45, 85, 0.4)',
                    'rgba(52, 199, 89, 0.3)'
                ];

                colors.forEach((color, layerIndex) => {
                    ctx.beginPath();
                    ctx.moveTo(0, centerY);

                    const phase = time * 0.003 + layerIndex * 0.5;
                    const freq = 0.02 + layerIndex * 0.005;
                    const layerAmp = amplitude * (1 - layerIndex * 0.15);

                    for (let x = 0; x <= canvas.width; x += 4) {
                        const relX = x / canvas.width;
                        const envelope = Math.sin(relX * Math.PI); // Fade at edges
                        const y = centerY + Math.sin(x * freq + phase) * layerAmp * envelope;
                        ctx.lineTo(x, y);
                    }

                    ctx.strokeStyle = color;
                    ctx.lineWidth = 4 - layerIndex * 0.5;
                    ctx.lineCap = 'round';
                    ctx.stroke();
                });

                requestAnimationFrame(draw);
            }

            draw(0);
        }

        // Style 3: Mirrored bars
        function initStyle3() {
            const container = document.getElementById('style3');
            const barCount = 50;
            container.style.cssText = `
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 2px;
                height: 100%;
            `;

            for (let i = 0; i < barCount; i++) {
                const group = document.createElement('div');
                group.className = 'bar-group';
                group.style.cssText = 'display: flex; flex-direction: column; align-items: center;';

                const topBar = document.createElement('div');
                topBar.className = 'bar top';
                topBar.style.cssText = 'width: 3px; background: linear-gradient(to top, #007AFF, #5856D6); border-radius: 1.5px; transform-origin: bottom;';

                const bottomBar = document.createElement('div');
                bottomBar.className = 'bar bottom';
                bottomBar.style.cssText = 'width: 3px; background: linear-gradient(to bottom, #007AFF, #5856D6); border-radius: 1.5px; transform-origin: top;';

                group.appendChild(topBar);
                group.appendChild(bottomBar);
                container.appendChild(group);
            }
        }

        function animateStyle3(time) {
            const groups = document.querySelectorAll('#style3 .bar-group');
            const center = groups.length / 2;

            groups.forEach((group, i) => {
                const topBar = group.querySelector('.top');
                const bottomBar = group.querySelector('.bottom');

                // Edge fade
                const distFromCenter = Math.abs(i - center) / center;
                const edgeFade = Math.pow(Math.cos(distFromCenter * Math.PI / 2), 0.7);

                // Wave
                const wave = Math.sin(i * 0.25 + time * 0.005) * 0.5 + 0.5;
                const height = (10 + wave * 80 * (0.3 + audioLevel * 0.7)) * edgeFade;

                topBar.style.height = height + 'px';
                bottomBar.style.height = height + 'px';
                topBar.style.opacity = 0.5 + wave * 0.5;
                bottomBar.style.opacity = 0.5 + wave * 0.5;
            });

            requestAnimationFrame(animateStyle3);
        }

        // Style 4: Single line wave with thickness
        function initStyle4() {
            const canvas = document.getElementById('style4');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth * 2;
            canvas.height = canvas.offsetHeight * 2;

            function draw(time) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const centerY = canvas.height / 2;

                // Create gradient
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
                gradient.addColorStop(0, 'rgba(0, 122, 255, 0)');
                gradient.addColorStop(0.2, 'rgba(0, 122, 255, 1)');
                gradient.addColorStop(0.5, 'rgba(88, 86, 214, 1)');
                gradient.addColorStop(0.8, 'rgba(0, 122, 255, 1)');
                gradient.addColorStop(1, 'rgba(0, 122, 255, 0)');

                ctx.beginPath();

                const phase = time * 0.004;

                for (let x = 0; x <= canvas.width; x += 2) {
                    const relX = x / canvas.width;
                    const envelope = Math.sin(relX * Math.PI);

                    const wave1 = Math.sin(x * 0.03 + phase);
                    const wave2 = Math.sin(x * 0.02 + phase * 1.3) * 0.5;

                    const amplitude = (30 + audioLevel * 80) * envelope;
                    const y = centerY + (wave1 + wave2) * amplitude;

                    // Vary line width based on position and audio
                    const thickness = (4 + audioLevel * 8) * envelope;

                    if (x === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }

                ctx.strokeStyle = gradient;
                ctx.lineWidth = 6 + audioLevel * 10;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.stroke();

                // Add glow
                ctx.shadowColor = '#007AFF';
                ctx.shadowBlur = 20 + audioLevel * 30;
                ctx.stroke();

                requestAnimationFrame(draw);
            }

            draw(0);
        }

        // Style 5: Rounded bars with physics/momentum
        const style5Bars = [];
        const style5BarCount = 35;

        function initStyle5() {
            const container = document.getElementById('style5');
            container.style.cssText = `
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 4px;
                height: 100%;
            `;

            for (let i = 0; i < style5BarCount; i++) {
                const bar = document.createElement('div');
                bar.style.cssText = `
                    width: 6px;
                    background: linear-gradient(180deg, #007AFF, #5856D6);
                    border-radius: 3px;
                    transition: none;
                `;
                container.appendChild(bar);

                style5Bars.push({
                    element: bar,
                    currentHeight: 10,
                    targetHeight: 10,
                    velocity: 0
                });
            }
        }

        function animateStyle5(time) {
            const center = style5BarCount / 2;

            style5Bars.forEach((bar, i) => {
                // Edge fade
                const distFromCenter = Math.abs(i - center) / center;
                const edgeFade = Math.pow(Math.cos(distFromCenter * Math.PI / 2), 0.5);

                // Target based on wave + audio
                const wave = Math.sin(i * 0.35 + time * 0.006) * 0.5 + 0.5;
                const target = (15 + wave * 150 * (0.2 + audioLevel * 0.8)) * edgeFade;

                bar.targetHeight = target;

                // Physics: spring towards target
                const spring = 0.15;
                const damping = 0.75;

                const force = (bar.targetHeight - bar.currentHeight) * spring;
                bar.velocity += force;
                bar.velocity *= damping;
                bar.currentHeight += bar.velocity;

                // Clamp
                bar.currentHeight = Math.max(4, bar.currentHeight);

                bar.element.style.height = bar.currentHeight + 'px';
                bar.element.style.opacity = 0.6 + (bar.currentHeight / 150) * 0.4;
            });

            requestAnimationFrame(animateStyle5);
        }

        // Initialize all
        initStyle1();
        initStyle2();
        initStyle3();
        initStyle4();
        initStyle5();

        // Start animations
        requestAnimationFrame(animateStyle1);
        requestAnimationFrame(animateStyle3);
        requestAnimationFrame(animateStyle5);
    </script>
</body>
</html>
